<%- include('partials/header') -%>

<div class="container">
  <div class="column">
    <div class="">
      <div class="p-5">
        <h2>Edit profile</h2>
        <% if (locals.messages.errors) { %>
          <% messages.errors.forEach( el => { %>
              <div class="alert alert-danger"><%= el.msg %></div>
          <% }) %>    
      <% } %>
      <% if (locals.messages.info) { %>
          <% messages.info.forEach( el => { %>
              <div class="alert alert-info"><%= el.msg %></div>
          <% }) %>    
      <% } %>
        <form action="/users/saveProfile/<%= user._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
          <div class="mb-3">
              <label for="userName" class="form-label">User Name</label>
              <input type="text" class="form-control" id="userName" name="userName" value="<%= user.userName %>" v-model:value="username" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}" style="text-transform: lowercase;">
          </div>
          <!-- <div class="mb-3">
            <label for="profilePic" class="form-label">Profile Pic</label>
            <input type="file" class="form-control" id="profilePic" name="file" accept="image/*">
        </div> -->
        <div class="mb-3">
          <label for="bodyweight" class="form-label">Body Weight</label>
          <input type="number" class="form-control" id="bodyweight" name="bodyweight" value="<%= user.bodyweight %>">
      </div>
      
        <button type="submit" class="btn btn-primary">Submit</button>

        </form>
      </div>
    </div>
    <div class="col-0">
    
    </div>
  </div>
</div>



<%- include('partials/footer') -%>